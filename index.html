<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tae-Young Han | AI Media Art Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+KR:wght@300;500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <style>
        /* 기본 설정 */
        body, html {
            margin: 0; padding: 0; height: 100%; overflow: hidden;
            background-color: #050510; /* 아주 어두운 남색 배경 */
            font-family: 'Noto Sans KR', sans-serif;
        }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        
        .container {
            position: relative; z-index: 1; height: 100%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            color: white;
            background: rgba(15, 12, 41, 0.2);
            backdrop-filter: blur(3px);
            box-shadow: inset 0 0 100px rgba(123, 31, 162, 0.1);
        }

        h1 {
            font-family: 'Orbitron', sans-serif; font-size: 4rem; margin-bottom: 0.5rem; letter-spacing: 2px;
            background: linear-gradient(90deg, #ff00cc, #3333ff, #00dbde);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(187, 0, 255, 0.5);
            animation: titleGlow 3s infinite alternate;
        }
        @keyframes titleGlow { from { filter: brightness(1); scale: 1; } to { filter: brightness(1.3); scale: 1.02; } }

        p.subtitle { font-size: 1.2rem; color: #b39ddb; margin-bottom: 4rem; letter-spacing: 1px; text-transform: uppercase; opacity: 0.8; }

        .btn-group { display: flex; gap: 25px; }
        .btn {
            position: relative; text-decoration: none; padding: 15px 40px;
            font-family: 'Orbitron', sans-serif; font-size: 1.1rem; font-weight: 700; color: white;
            border-radius: 50px; overflow: hidden; transition: 0.3s all ease;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            box-shadow: 0 0 20px rgba(123, 31, 162, 0.5); border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .btn.secondary { background: linear-gradient(45deg, #b721ff, #21d4fd); box-shadow: 0 0 20px rgba(183, 33, 255, 0.5); }
        .btn:hover { transform: translateY(-5px) scale(1.05); letter-spacing: 2px; }
        .btn::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent); transition: 0.5s;
        }
        .btn:hover::before { left: 100%; }
        footer { position: absolute; bottom: 20px; font-size: 0.8rem; color: rgba(255, 255, 255, 0.4); }
    </style>
</head>
<body>
    <div id="bg-canvas"></div>
    <div class="container">
        <h1>p5.js<br>Taeyoung portfolio</h1>
        <p class="subtitle">SSU Global Media | Interactive Portfolio</p>
        <div class="btn-group">
            <a href="work1.html" class="btn">PROJECTS 1 & 4</a>
            <a href="work2.html" class="btn secondary">PROJECTS 2 & 3</a>
        </div>
        <footer>2025 P5.js_비주얼포트폴리오 최종 과제 (20241865 한태영)</footer>
    </div>

    <script>
        let stars = [];
        let particles = [];
        let shootingStars = [];
        let blackHole;
        let planets = [];
        
        // 성운을 위한 가벼운 "구름" 객체들
        let nebulas = []; 

        function setup() {
            let canvas = createCanvas(windowWidth, windowHeight);
            canvas.parent('bg-canvas');

            // 1. 별 생성 (400개)
            for (let i = 0; i < 400; i++) stars.push(new Star());

            // 2. 네트워크 파티클 생성 (80개)
            for (let i = 0; i < 80; i++) particles.push(new Particle());

            // 3. 성운 구름 생성 (5개 - 아주 큰 덩어리로 표현해서 성능 최적화)
            for (let i = 0; i < 5; i++) nebulas.push(new NebulaBlob());

            // 4. 블랙홀 및 행성
            blackHole = new BlackHole(width * 0.7, height * 0.4);
            planets.push(new Planet(width * 0.2, height * 0.3, 40, color(100, 100, 255), 0.3));
            planets.push(new Planet(width * 0.8, height * 0.8, 60, color(255, 150, 100), 0.2));
        }

        function draw() {
            background(5, 5, 20, 50); // 잔상 효과

            // 1. 성운 그리기 (가장 뒤)
            for (let n of nebulas) { n.update(); n.draw(); }

            // 2. 별 그리기
            for (let s of stars) { s.update(); s.draw(); }

            // 3. 블랙홀 & 행성
            blackHole.draw();
            for (let p of planets) { p.update(); p.draw(); }

            // 4. 별똥별 (확률적 생성)
            if (random(1) < 0.02) shootingStars.push(new ShootingStar());
            for (let i = shootingStars.length - 1; i >= 0; i--) {
                shootingStars[i].update();
                shootingStars[i].draw();
                if (shootingStars[i].isDead()) shootingStars.splice(i, 1);
            }

            // 5. 네트워크 파티클 (가장 앞)
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
                particles[i].connect(particles.slice(i + 1));
            }
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
            blackHole.pos.set(width * 0.7, height * 0.4);
        }

        // --- 클래스 정의 ---

        class NebulaBlob {
            constructor() {
                this.pos = createVector(random(width), random(height));
                this.size = random(300, 600);
                this.color = color(random(50,150), 0, random(100,255), 10); // 아주 투명한 보라/파랑
                this.vel = p5.Vector.random2D().mult(0.2);
            }
            update() {
                this.pos.add(this.vel);
                if(this.pos.x < -this.size) this.pos.x = width + this.size;
                if(this.pos.x > width + this.size) this.pos.x = -this.size;
            }
            draw() {
                noStroke(); fill(this.color);
                ellipse(this.pos.x, this.pos.y, this.size);
            }
        }

        class Star {
            constructor() {
                this.pos = createVector(random(width), random(height));
                this.size = random(1, 3);
                this.brightness = random(100, 255);
            }
            update() {
                this.brightness = 150 + 100 * sin(frameCount * 0.05 + this.pos.x); // 반짝임
            }
            draw() {
                noStroke(); fill(255, this.brightness);
                ellipse(this.pos.x, this.pos.y, this.size);
            }
        }

        class ShootingStar {
            constructor() {
                this.pos = createVector(random(width), random(height/2));
                this.vel = createVector(-random(5,10), random(3,6));
                this.size = random(2, 4);
                this.history = [];
            }
            update() {
                this.history.push(this.pos.copy());
                if (this.history.length > 10) this.history.shift();
                this.pos.add(this.vel);
            }
            draw() {
                for(let i=0; i<this.history.length; i++){
                    fill(255, i*20); noStroke();
                    ellipse(this.history[i].x, this.history[i].y, this.size);
                }
            }
            isDead() { return this.pos.x < -50 || this.pos.y > height + 50; }
        }

        class BlackHole {
            constructor(x, y) { this.pos = createVector(x, y); this.size = 60; }
            draw() {
                push(); translate(this.pos.x, this.pos.y); rotate(frameCount * 0.05);
                noFill();
                for(let i=0; i<5; i++) {
                    stroke(255, 100, 50, 150); strokeWeight(random(2,4));
                    let r = this.size * 1.5 + random(-5, 5);
                    arc(0, 0, r, r, random(TWO_PI), random(TWO_PI));
                }
                pop();
                noStroke(); fill(0); ellipse(this.pos.x, this.pos.y, this.size);
                fill(255, 100, 50, 20); ellipse(this.pos.x, this.pos.y, this.size * 2);
            }
        }

        class Planet {
            constructor(x, y, size, col, speed) {
                this.pos = createVector(x, y); this.size = size; this.col = col; this.speed = speed;
            }
            update() {
                this.pos.x += this.speed;
                if(this.pos.x > width + this.size) this.pos.x = -this.size;
            }
            draw() {
                noStroke(); fill(this.col); ellipse(this.pos.x, this.pos.y, this.size);
                fill(255, 30); ellipse(this.pos.x - this.size*0.1, this.pos.y - this.size*0.1, this.size*0.8);
            }
        }

        class Particle {
            constructor() {
                this.pos = createVector(random(width), random(height));
                this.vel = p5.Vector.random2D();
                this.color = color(random(100,255), 0, random(200,255), 150);
            }
            update() {
                this.pos.add(this.vel);
                if(this.pos.x < 0) this.pos.x = width; if(this.pos.x > width) this.pos.x = 0;
                if(this.pos.y < 0) this.pos.y = height; if(this.pos.y > height) this.pos.y = 0;
                let mouse = createVector(mouseX, mouseY);
                if(mouse.dist(this.pos) < 150) this.vel.sub(p5.Vector.sub(mouse, this.pos).setMag(0.2));
                this.vel.limit(2);
            }
            draw() { noStroke(); fill(this.color); ellipse(this.pos.x, this.pos.y, 3); }
            connect(others) {
                for (let o of others) {
                    let d = this.pos.dist(o.pos);
                    if (d < 100) {
                        stroke(red(this.color), green(this.color), blue(this.color), map(d,0,100,150,0));
                        strokeWeight(0.5); line(this.pos.x, this.pos.y, o.pos.x, o.pos.y);
                    }
                }
            }
        }
    </script>
</body>
</html>
